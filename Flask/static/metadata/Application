{
    "type": "Ext.app.Application",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "models": [
            "specialite",
            "document",
            "document_type",
            "chantier_link_documents",
            "chantier"
        ],
        "stores": [
            "specialites",
            "employes_hours",
            "chantiers_hours",
            "documents",
            "document_type",
            "employes_logHours",
            "chantiers_documents",
            "mails_notsent",
            "sousTraitants_full"
        ],
        "views": [
            "appViewport",
            "sousTraitantsContextMenu",
            "editChantierWindow",
            "mailWindow",
            "loginWindow"
        ],
        "autoCreateViewport": true,
        "controllers": [
            "sousTraitants",
            "employes",
            "clients",
            "chantiers",
            "loginWindow",
            "global",
            "logHours"
        ],
        "name": "dalpeApp"
    },
    "designerId": "application",
    "cn": [
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "launch",
                "implHandler": [
                    "function confirm_exit(e) {",
                    "    if(!e) e = window.event;",
                    "",
                    "    e.cancelBubble = true;",
                    "    e.returnValue = 'Etes vous sur de vouloir quitter l\\'application?'; ",
                    "",
                    "    if (e.stopPropagation) {",
                    "        e.stopPropagation();",
                    "        e.preventDefault();",
                    "    }",
                    "}",
                    "window.onbeforeunload=confirm_exit;",
                    "",
                    "",
                    "",
                    "setInterval(function(){",
                    "    if(!Ext.getCmp(\"loginWindow\")){",
                    "        /*",
                    "        Employes.checkLoginSession(function(response){",
                    "        if (!response) {",
                    "        Ext.widget(\"loginWindow\");",
                    "        }",
                    "        })",
                    "        */",
                    "    }",
                    "}, 3700000);",
                    "",
                    "document.oncontextmenu = function(){return false;}; //permet de ne pas ouvrir le context menu de windows",
                    "",
                    "var allStores = Ext.StoreManager.items;",
                    "",
                    "for (var i in allStores)",
                    "{",
                    "    var currentStore = allStores[i];",
                    "    if (currentStore.proxy && currentStore.proxy.sortParam)",
                    "    {",
                    "        currentStore.proxy.sortParam = undefined;",
                    "    }",
                    "}",
                    "",
                    "",
                    "",
                    "",
                    ""
                ]
            },
            "designerId": "5cbb8634-3149-4cdf-b1d1-05fc951f7373"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "createRecord",
                "designer|params": [
                    "model",
                    "data"
                ],
                "implHandler": [
                    "var me =this;",
                    "var promise = new RSVP.Promise(function(resolve, reject) {",
                    "    Ext.Ajax.request({",
                    "        url: ('/api/model/'+model),",
                    "        method:'POST',",
                    "        jsonData: data,",
                    "        success: function(response){",
                    "            var jsonData = Ext.JSON.decode(response.responseText);",
                    "            var myModel = me.getModel(model);",
                    "            var record = new myModel(jsonData);",
                    "            console.log(record);",
                    "        }",
                    "    });",
                    "});",
                    "",
                    "return promise;"
                ]
            },
            "designerId": "697ee51b-f84d-4a7e-a138-4c67d83dcb13"
        }
    ]
}